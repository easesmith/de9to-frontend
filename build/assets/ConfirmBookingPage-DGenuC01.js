import{u as _,j as e,ah as X,ai as Z,aj as Q,ak as ee,al as se,am as te,an as le,aa as z,r as i,c as ae,x as ne,ao as oe,d as ie,e as re,f as p,g as m,h as d,i as f,ap as xe,aq as V,l as u,ar as ce,k as w,a4 as D,as as me,at as de,B as g,au as fe,a as he,av as je,aw as pe,z as ue,K as ge}from"./index-CcpRPS1f.js";import{V as Ne}from"./Vector (5)-DuP7Qcwr.js";import{V as O}from"./verified 1-BxJHZHCz.js";import{L as be}from"./Layout-BRffaEJr.js";import{f as N}from"./format-CW0G_LzU.js";import{c as P,C as ve}from"./ConfirmbookingModal-FQmnlL6i.js";import{_ as T}from"./react-stars-B-CvSG_R.js";import"./Header-Xri131j3.js";import"./de9to-logo-1-bqG7ETxb.js";import"./addDays-BmrnjbS8.js";import"./index-y9OiPsHC.js";const Ce=({isConfirmBookingSuccessModalOpen:s,setIsConfirmBookingSuccessModalOpen:t})=>{const x=_(),c=()=>{x("/")};return e.jsx(X,{open:s,onOpenChange:t,children:e.jsxs(Z,{className:"max-w-[400px] max-h-[90vh] overflow-y-auto w-full",children:[e.jsxs(Q,{children:[e.jsx(ee,{className:"font-inter font-bold text-[#009245] text-2xl max-[500px]:text-xl",children:"Congratulations!!"}),e.jsxs(se,{className:"text-base max-[500px]:text-sm text-[#333333]",children:[e.jsx("b",{children:"DentMarc Dental Clinic"})," has received your booking. Sit back & relax, we will update you soon on your  contact info"]})]}),e.jsx(te,{className:"mt-5",children:e.jsx(le,{onClick:c,children:"Back to Homepage"})})]})})},Ae=({apiData:s})=>{_();const t=z("userInfo"),[x,c]=i.useState(!1),r=ae({resolver:ne(oe),defaultValues:{for:"Myself",name:"",mobile:"",email:"",paymentDetails:!0}}),{reset:G,handleSubmit:b,getValues:h}=r,{res:o,fetchData:v,isLoading:B}=ie();console.log("date",N(new Date(s.date),"EEEE"));const C=l=>{console.log("Booking Data:",l),v("/patient/book-appointment",{doctorsId:s==null?void 0:s.dentistId,patientId:t.userId,slotId:s==null?void 0:s.slotId,clinicId:s==null?void 0:s.clinic,fullName:l.name,mobile:l.mobile,email:l.email,timing:{date:N(new Date(s.date),"dd-MM-yyy"),day:N(new Date(s.date),"EEEE")}})};return i.useEffect(()=>{((o==null?void 0:o.status)===200||(o==null?void 0:o.status)===201)&&(console.log("booking res",o),c(!0))},[o]),e.jsx(re,{...r,children:e.jsxs("form",{onSubmit:b(C),className:"flex flex-col items-start gap-4 w-full",children:[e.jsx("div",{className:"w-full",children:e.jsx(p,{control:r.control,name:"for",render:({field:l})=>e.jsxs(m,{children:[e.jsx(d,{}),e.jsx(f,{children:e.jsxs(xe,{onValueChange:l.onChange,defaultValue:l.value,className:"grid grid-cols-2 gap-5",children:[e.jsxs(m,{className:"flex items-center w-full",children:[e.jsx(f,{children:e.jsx(V,{className:"hidden",value:"Myself"})}),e.jsx(d,{className:`font-medium w-full font-inter cursor-pointer rounded-3xl px-8 py-3 border-[#717171] text-center border ${h("for")==="Myself"?"bg-[#95C22B] text-white border-[#95C22B]":"text-[#717171]"}`,children:"Myself"})]}),e.jsxs(m,{className:"flex items-center w-full",children:[e.jsx(f,{children:e.jsx(V,{className:"hidden",value:"Someone else"})}),e.jsx(d,{className:`font-medium w-full font-inter cursor-pointer rounded-3xl px-8 py-3 border-[#717171] text-center border ${h("for")==="Someone else"?"bg-[#95C22B] text-white border-[#95C22B]":"text-[#717171]"}`,children:"Someone else"})]})]})}),e.jsx(u,{})]})})}),e.jsxs("div",{className:"w-full flex flex-col gap-4 mt-4",children:[e.jsx(p,{control:r.control,name:"name",render:({field:l})=>e.jsxs(m,{children:[e.jsxs(d,{className:"font-inter text-base text-[#717171] font-normal",children:["Enter full name",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(f,{children:e.jsxs("div",{className:"relative",children:[e.jsx(ce,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#717171]"}),e.jsx(w,{placeholder:"Full Name",className:"placeholder:text-[#717171] pl-10 h-12 border-[#E4E6EE]",...l})]})}),e.jsx(u,{})]})}),e.jsx(p,{control:r.control,name:"mobile",render:({field:l})=>e.jsxs(m,{children:[e.jsxs(d,{className:"font-inter text-base text-[#717171] font-normal",children:["Mobile",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(f,{children:e.jsxs("div",{className:"relative",children:[e.jsx(D,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#717171]"}),e.jsx(w,{type:"number",placeholder:"Enter Your Mobile Number",className:"placeholder:text-[#717171] pl-10 h-12 border-[#E4E6EE]",...l})]})}),e.jsx(me,{className:"text-xs font-inter",children:"Updates will be sent to the number you will provide"}),e.jsx(u,{})]})}),e.jsx(p,{control:r.control,name:"email",render:({field:l})=>e.jsxs(m,{children:[e.jsx(d,{className:"font-inter text-base text-[#717171] font-normal",children:"Email"}),e.jsx(f,{children:e.jsxs("div",{className:"relative",children:[e.jsx(de,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#717171]"}),e.jsx(w,{placeholder:"Enter Your Mail",className:"placeholder:text-[#717171] pl-10 h-12 border-[#E4E6EE]",...l})]})}),e.jsx(u,{})]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"border border-[#1DC9A0] w-4 h-4 p-[3px] rounded-full",children:e.jsx("div",{className:"w-full h-full rounded-full bg-[#1DC9A0]"})}),e.jsxs("p",{className:"text-[#5B5B5B] font-normal max-[500px]:text-sm",children:["₹500 ",e.jsx("span",{className:"text-[#5B5B5B] font-semibold",children:"FREE"})," via ",e.jsxs("span",{className:"text-[#5B5B5B] font-semibold",children:["de",e.jsx("span",{className:"text-[#95C22B]",children:"9"}),"to on first appointment"]})]})]}),e.jsx("p",{className:"font-inter max-[500px]:text-sm text-[#717171]",children:"By booking this appointment, you agree to De9to’s Terms and Conditions."})]}),e.jsx(g,{type:"submit",className:"bg-[#95C22B] w-full h-12",children:"Book Appointment"}),x&&e.jsx(Ce,{isConfirmBookingSuccessModalOpen:x,setIsConfirmBookingSuccessModalOpen:c})]})})},Ve=()=>{var S,R;const{state:{data:s,clinicDetails:t,slotId:x,timing:c,startIndex:r}}=fe(),{clinicPhotos:G,clinicName:b,clinicAddress:h,city:o,nearbyLandmark:v,state:B,clinicPincode:C}=t||{},l=z("userInfo"),{res:n,fetchData:y,isLoading:we}=he();console.log("userInfo",l),console.log("data",s),console.log("clinicDetails",t),console.log("slotId",x);const[F,E]=i.useState(!1),[I,q]=i.useState(s==null?void 0:s.date),[k,H]=i.useState(s==null?void 0:s.time);i.useEffect(()=>{q(s==null?void 0:s.date),H(s==null?void 0:s.time)},[s]);const[U,Y]=i.useState(""),K=i.useCallback(async()=>{y(`/dentist/get-dentist-details?dentistId=${(s==null?void 0:s.dentistId)||"66d02520cd6af954e0eba864"}`)},[y]);i.useEffect(()=>{K()},[s==null?void 0:s.dentistId]),i.useEffect(()=>{var $,L;((n==null?void 0:n.status)===200||(n==null?void 0:n.status)===201)&&(console.log("Dentist details res",n),Y((L=($=n==null?void 0:n.data)==null?void 0:$.data)==null?void 0:L.dentist))},[n]);const{personalDetails:a,clinic:j=[],educationalQualification:A,dentistRatings:M}=U||{};console.log("clinicDetails?.clinicRating",t==null?void 0:t.clinicRating);const J=(t==null?void 0:t.clinicRating)&&P(t==null?void 0:t.clinicRating),W=M&&P(M);return e.jsx(be,{children:e.jsxs("div",{className:"grid grid-cols-2 max-[900px]:grid-cols-1 gap-5 max-w-[1240px] mx-auto mb-5",children:[e.jsxs("div",{className:"bg-[#FCFFF4] px-4 py-6",children:[e.jsx("h1",{className:"font-inter font-medium text-xl sm:text-3xl",children:"In Clinic Appointment"}),e.jsx("h3",{className:"mt-5 font-inter text-base sm:text-xl",children:"Appointment Details"}),e.jsxs("div",{className:"flex justify-between items-start mt-5",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(je,{className:"text-[#717171]"}),e.jsxs("span",{className:"font-inter text-sm sm:text-base text-[#1A1A1A]",children:["On ",N(new Date(I),"EEE MMM dd,yy")]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pe,{className:"text-[#717171]"}),e.jsxs("span",{className:"font-inter text-sm sm:text-base text-[#1A1A1A]",children:["At ",k]})]}),e.jsx(g,{onClick:()=>E(!0),variant:"outline",className:"h-7 text-[#95C22B] text-sm sm:text-base hover:text-[#95C22B] mt-4",children:"Change Date & Time"})]})]}),e.jsx("h4",{className:"font-inter mt-4 text-[#1A1A1A] text-sm sm:text-base font-semibold",children:"Selected Dentist"}),e.jsxs("div",{className:"border-2 border-[#C9C9C9] rounded-md p-3 mt-5 grid grid-cols-[24%_73%] max-[500px]:grid-cols-1 gap-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"rounded-[6px] relative w-full",children:[e.jsx("img",{className:"absolute top-1 right-1",src:O,alt:""}),e.jsx("img",{className:"h-full w-full",src:a==null?void 0:a.image,alt:""})]}),e.jsxs("p",{className:"text-center font-inter font-semibold mt-4 text-sm max-[500px]:text-xs text-[#717171]",children:["Reg. No: ",A==null?void 0:A.regNumber]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex max justify-between max-[500px]:flex-col max-[500px]:items-start items-center gap-3",children:[e.jsx("h2",{className:"text-base sm:text-xl font-inter font-semibold text-[#1A1A1A]",children:`${a==null?void 0:a.prefix} ${a==null?void 0:a.Firstname} ${a==null?void 0:a.lastName}`}),e.jsxs("div",{children:[e.jsx(T,{edit:!1,size:25,count:5,value:W,color2:"#FF8A00"}),e.jsx("div",{className:"text-[#000000] text-[10px] max-[500px]:text-left text-right font-normal font-inter",children:"Rated by 2 users"})]})]}),e.jsxs("div",{className:"flex items-center max-[500px]:items-start gap-2 mt-3",children:[e.jsx(ue,{className:"text-[#717171] text-2xl"}),e.jsxs("div",{className:"flex gap-2 items-center flex-wrap max-[500px]:text-sm",children:[e.jsx("p",{className:" text-[#FF8A00] font-inter font-semibold",children:a==null?void 0:a.degree}),e.jsx("div",{className:"w-[2px] h-[14px] bg-[#FF8A00]"}),e.jsx("p",{className:"text-[#FF8A00] font-inter font-semibold",children:"Oral Pathology"}),e.jsx("div",{className:"w-[2px] h-[14px] bg-[#FF8A00]"}),e.jsx("p",{className:"text-[#FF8A00] font-inter font-semibold",children:(S=j[0])==null?void 0:S.clinicName})]})]})]})]}),e.jsx("h4",{className:"font-inter mt-4 text-[#1A1A1A] text-sm sm:text-base font-semibold",children:"Selected Clinic"}),e.jsxs("div",{className:"shadow-lg rounded-md p-3 mt-5 bg-white grid max-[500px]:grid-cols-1 grid-cols-[40%_58%] lg:grid-cols-[30%_68%] gap-3",children:[e.jsxs("div",{className:"rounded-[6px] relative",children:[e.jsx("img",{className:"absolute top-1 right-1",src:O,alt:""}),e.jsx("img",{className:"w-full h-full",src:j==null?void 0:j.clinicLogo,alt:""})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between flex-col lg:flex-row items-start lg:items-center gap-0 lg:gap-3",children:[e.jsx("h2",{className:"text-xl font-inter font-semibold text-[#1A1A1A]",children:b}),e.jsxs("div",{children:[e.jsx(T,{edit:!1,size:25,count:5,value:J,color2:"#FF8A00"}),e.jsxs("div",{className:"text-[#000000] text-[10px] text-left lg:text-right font-normal font-inter",children:["Rated by ",(R=t==null?void 0:t.clinicRating)==null?void 0:R.length," users"]})]})]}),e.jsxs("div",{className:"flex gap-2 items-center mt-3",children:[e.jsx("img",{src:Ne,alt:""}),e.jsx("h5",{className:"text-[#717171] text-base max-[500px]:text-sm font-semibold font-inter",children:"Multi-Speciality Clinic"})]}),e.jsxs("p",{className:"font-inter text-sm max-[500px]:text-xs text-[#717171] my-2",children:[e.jsx("span",{className:"font-bold",children:"Address:"}),`${h}, ${v}, ${o}, ${B}, ${C}`]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsxs(g,{variant:"outline",size:"sm",className:"flex max-[500px]:text-sm max-[500px]:h-8 max-[500px]:px-2 gap-2 text-[#95C22B] border-[#95C22B] hover:text-[#95C22B]",children:[e.jsx(D,{className:"text-[#95C22B] text-xl"}),e.jsx("span",{children:"Call now"})]}),e.jsxs(g,{variant:"outline",size:"sm",className:"flex max-[500px]:text-sm max-[500px]:h-8 max-[500px]:px-2 gap-2 text-[#95C22B] border-[#95C22B] hover:text-[#95C22B]",children:[e.jsx(ge,{className:"text-[#95C22B]"}),e.jsx("span",{children:"Search on map"})]})]})]})]}),F&&e.jsx(ve,{isConfirmBookingModalOpen:F,setIsConfirmBookingModalOpen:E,selectedDate:I,selectedTime:k,clinic:{_id:s.clinic},dentistId:s==null?void 0:s.dentistId,timing:c,selectedIndex:r})]}),e.jsxs("div",{className:"px-4 py-6",children:[e.jsx("h2",{className:"font-inter text-xl font-medium mb-4",children:"Enter Patient Details"}),e.jsx(Ae,{apiData:{...s,slotId:x}})]})]})})};export{Ve as default};
