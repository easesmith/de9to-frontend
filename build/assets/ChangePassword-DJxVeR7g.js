import{r as l,aa as E,c as y,b3 as S,j as s,e as A,f as c,g as x,h as i,i as m,aE as w,k as h,l as p,B as C,x as v,bt as F}from"./index-CcpRPS1f.js";import{P as I}from"./ProfileLayout-C3h0LJ3b.js";import"./Header-Xri131j3.js";import"./de9to-logo-1-bqG7ETxb.js";const U=()=>{const[r,f]=l.useState(!1),[n,u]=l.useState(!1),[d,j]=l.useState(!1),o=E("userInfo");console.log("userInfo",o);const a=y({resolver:v(F),defaultValues:{oldPassword:"",newPassword:"",confirmNewPassword:""}}),{reset:N,handleSubmit:b,getValues:k,watch:B}=a,{res:t,fetchData:P,isLoading:H}=S(),g=e=>{console.log("Data:",e),P("/patient/update-patient-password",{patientId:o==null?void 0:o.userId,newPassword:e.newPassword,oldPassword:e.oldPassword})};return l.useEffect(()=>{((t==null?void 0:t.status)===200||(t==null?void 0:t.status)===201)&&(console.log("change password response",t),N({confirmNewPassword:"",newPassword:"",oldPassword:""}))},[t]),s.jsx(I,{children:s.jsx("div",{className:"w-full h-full flex justify-center items-center",children:s.jsxs("div",{className:"max-w-md rounded-lg w-full bg-white p-5",children:[s.jsx("h1",{className:"text-2xl max-sm:text-xl font-inter font-semibold text-[#1A1A1A] text-center",children:"Create Your New Password"}),s.jsx(A,{...a,children:s.jsxs("form",{onSubmit:b(g),className:"flex flex-col items-start gap-4 w-full mt-5",children:[s.jsxs("div",{className:"w-full flex flex-col gap-4 mt-4",children:[s.jsx(c,{control:a.control,name:"oldPassword",render:({field:e})=>s.jsxs(x,{children:[s.jsx(i,{className:"font-inter text-base text-[#1A1A1A] font-normal",children:"Enter Old Password"}),s.jsx(m,{children:s.jsxs("div",{className:"relative",children:[s.jsx(w,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#717171]"}),s.jsx(h,{type:r?"text":"password",placeholder:"********",className:"placeholder:text-[#717171] pl-10 pr-12 h-12 border-[#E4E6EE]",...e}),s.jsx("button",{type:"button",onClick:()=>f(!r),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#717171] text-xs",children:r?"Hide":"Show"})]})}),s.jsx(p,{})]})}),s.jsx(c,{control:a.control,name:"newPassword",render:({field:e})=>s.jsxs(x,{children:[s.jsx(i,{className:"font-inter text-base text-[#1A1A1A] font-normal",children:"Enter New Password"}),s.jsx(m,{children:s.jsxs("div",{className:"relative",children:[s.jsx(w,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#717171]"}),s.jsx(h,{type:n?"text":"password",placeholder:"********",className:"placeholder:text-[#717171] pl-10 pr-12 h-12 border-[#E4E6EE]",...e}),s.jsx("button",{type:"button",onClick:()=>u(!n),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#717171] text-xs",children:n?"Hide":"Show"})]})}),s.jsx(p,{})]})}),s.jsx(c,{control:a.control,name:"confirmNewPassword",render:({field:e})=>s.jsxs(x,{children:[s.jsx(i,{className:"font-inter text-base text-[#1A1A1A] font-normal",children:"Confirm New Password"}),s.jsx(m,{children:s.jsxs("div",{className:"relative",children:[s.jsx(w,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#717171]"}),s.jsx(h,{type:d?"text":"password",placeholder:"********",className:"placeholder:text-[#717171] pl-10 pr-12 h-12 border-[#E4E6EE]",...e}),s.jsx("button",{type:"button",onClick:()=>j(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#717171] text-xs",children:d?"Hide":"Show"})]})}),s.jsx(p,{})]})})]}),s.jsx(C,{type:"submit",className:"bg-[#95C22B] mt-4 text-base max-sm:text-lg flex justify-center w-full h-12",children:"Update Now"})]})})]})})})};export{U as default};
