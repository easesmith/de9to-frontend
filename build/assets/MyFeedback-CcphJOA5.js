import{j as t,aO as d,aP as a,aZ as y,a_ as A,a as D,aa as v,r as p,B,aT as C,aU as E,aV as r,aW as M,aX as T,a$ as R,b0 as $}from"./index-C-yvlQ-I.js";import{P}from"./ProfileLayout-D44GQXX0.js";import{D as S}from"./DataNotFound-CY8KKk5M.js";import{_ as F}from"./react-stars-C-fjyYXQ.js";import{f as g}from"./format-CW0G_LzU.js";import{S as f}from"./Spinner-VyycNBZ5.js";import"./Header-BwvlhJEq.js";import"./de9to-logo-1-bqG7ETxb.js";import"./index-Bdfyzqni.js";const z=({feedback:s})=>{var x,e,n,i,m;return t.jsxs(d,{className:"text-[#1A1A1A] font-inter",children:[t.jsx(a,{children:g(new Date(s==null?void 0:s.createdAt),"dd/MM/yyy")}),t.jsx(a,{children:s!=null&&s.clinic?(x=s==null?void 0:s.clinic)==null?void 0:x.clinicName:`${(n=(e=s==null?void 0:s.dentist)==null?void 0:e.personalDetails)==null?void 0:n.prefix} ${(m=(i=s==null?void 0:s.dentist)==null?void 0:i.personalDetails)==null?void 0:m.Firstname}`}),t.jsx(a,{children:t.jsx(F,{count:5,value:Number(s==null?void 0:s.patientRating),color2:"#FF8A00",edit:!1,size:22})}),t.jsx(a,{className:"text-[#0D0C22]",children:s==null?void 0:s.patientRemarks}),t.jsxs(a,{className:"flex items-center gap-3",children:[t.jsx(y,{className:"text-2xl cursor-pointer"}),t.jsx(A,{className:"text-xl cursor-pointer text-[#FF0000]"})]})]})},W=()=>{const{res:s,fetchData:x,isLoading:e}=D(),n=v("userInfo"),[i,m]=p.useState([]);console.log("userInfo",n);const w=async()=>{x(`/patient/get-all-patient-review?patientId=${n==null?void 0:n.userId}`)};return p.useEffect(()=>{w()},[]),p.useEffect(()=>{((s==null?void 0:s.status)===200||(s==null?void 0:s.status)===201)&&(m(s.data.data),console.log("reviews response",s))},[s]),t.jsx(P,{children:t.jsxs("div",{className:"bg-white rounded-lg p-5",children:[t.jsx("h1",{className:"font-inter text-2xl font-medium text-[#00214B] max-[425px]:text-xl",children:"My Feedback"}),t.jsx(B,{variant:"outline",className:"border-[#717171] mt-5 font-normal text-[#717171]",children:"Filter by date"}),t.jsxs(C,{className:"mt-4 max-[425px]:hidden",children:[t.jsx(E,{className:"bg-[#F6F6F6]",children:t.jsxs(d,{className:"uppercase",children:[t.jsx(r,{className:"w-[130px]",children:"Date"}),t.jsx(r,{className:"w-[230px]",children:"Clinic/Doctor"}),t.jsx(r,{className:"w-[130px]",children:"ratings"}),t.jsx(r,{className:"w-[380]",children:"Feedback"}),t.jsx(r,{className:"w-[110px]",children:"Action"})]})}),t.jsx(M,{children:i.map((l,o)=>t.jsx(z,{feedback:l},o))})]}),t.jsx("div",{className:"mt-4 max-[425px]:flex flex-wrap gap-3 justify-between hidden w-full",children:i.map((l,o)=>{var c,j,u,h,N;return t.jsxs("div",{className:"h-full rounded-md py-[10px] px-3 bg-[#F4F9EA] min-w-[133px] w-[47.8%] flex flex-col items-center gap-2",children:[t.jsxs("div",{className:"flex gap-3 justify-start items-center w-full",children:[t.jsx("p",{className:"text-[#717171] text-[10px] font-medium font-inter",children:"Date"}),t.jsx("p",{className:"text-[#1A1A1A] text-xs font-normal font-inter",children:g(new Date(l==null?void 0:l.createdAt),"dd/MM/yyy")})]}),t.jsx("div",{className:"flex flex-col justify-center gap-1 w-full",children:t.jsxs("div",{className:"flex flex-col justify-start items-start",children:[t.jsx("p",{className:"text-[#717171] text-[10px] font-medium font-inter",children:"Dentist"}),t.jsxs("div",{className:"w-full flex justify-start items-center gap-3",children:[t.jsxs("h5",{className:"text-[#1A1A1A] text-xs font-normal font-inter",children:[l!=null&&l.clinic?(c=l==null?void 0:l.clinic)==null?void 0:c.clinicName:`${(u=(j=l==null?void 0:l.dentist)==null?void 0:j.personalDetails)==null?void 0:u.prefix} ${(N=(h=l==null?void 0:l.dentist)==null?void 0:h.personalDetails)==null?void 0:N.Firstname}`," "]}),t.jsx(T,{className:"text-[#717171]"})]})]})}),t.jsx(F,{count:5,value:Number(l==null?void 0:l.patientRating),edit:!1,color2:"#FF8A00",size:20,className:"my-1"}),t.jsxs("div",{className:"h-full flex flex-col justify-start items-start w-full",children:[t.jsx("p",{className:"text-[#717171] text-[10px] font-medium font-inter",children:"Feedback"}),t.jsx("p",{className:"text-[#0D0C22] text-[10px] font-normal font-inter break-all",children:l==null?void 0:l.patientRemarks})]}),t.jsxs("div",{className:"flex items-center gap-2 w-full",children:[t.jsxs("button",{className:"rounded-[6px] border-[1px] w-full border-[#95C22B] h-8 px-2 flex justify-center items-center gap-[6px]",children:[t.jsx(R,{className:"text-[#95C22B]"}),t.jsx("span",{className:"text-[#95C22B] text-[10px] font-medium font-inter",children:"Edit"})]}),t.jsx($,{className:"text-[#FF0000] text-4xl"})]})]},o)})}),(i==null?void 0:i.length)===0&&e&&t.jsx(f,{size:30}),(i==null?void 0:i.length)===0&&!e&&t.jsx(S,{name:"Reviews"})]})})};export{W as default};
