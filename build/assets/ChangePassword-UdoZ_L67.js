import{r,l as E,j as s,B as y}from"./index-DmouPCTn.js";import{P as S}from"./ProfileLayout-UcBpfbwo.js";import{u as A,F as C,b as c,c as i,d as x,e as m,I as w,f as h,J as v}from"./usePostApiReq-Bc5-sulw.js";import{u as F}from"./usePatchApiReq-CDyIi-kF.js";import{t as I}from"./zod-CUky7xw4.js";import{o as p}from"./index-Cm1U8_ys.js";import"./Header-BT9ardL7.js";import"./de9to-logo-qc7xun2b6cqji9b2etrrmn9ecu7aif9fr5oesz8pp6-1.png-Dqa2L2LM.js";const M=()=>{const[l,f]=r.useState(!1),[n,u]=r.useState(!1),[d,j]=r.useState(!1),a=E("userInfo");console.log("userInfo",a);const o=A({resolver:I(v),defaultValues:{oldPassword:"",newPassword:"",confirmNewPassword:""}}),{reset:N,handleSubmit:b,getValues:k,watch:B}=o,{res:t,fetchData:P,isLoading:H}=F(),g=e=>{console.log("Data:",e),P("/patient/update-patient-password",{patientId:a==null?void 0:a.userId,newPassword:e.newPassword,oldPassword:e.oldPassword})};return r.useEffect(()=>{((t==null?void 0:t.status)===200||(t==null?void 0:t.status)===201)&&(console.log("change password response",t),N({confirmNewPassword:"",newPassword:"",oldPassword:""}))},[t]),s.jsx(S,{children:s.jsx("div",{className:"w-full h-full flex justify-center items-center",children:s.jsxs("div",{className:"max-w-md rounded-lg w-full bg-white p-5",children:[s.jsx("h1",{className:"text-2xl max-sm:text-xl font-inter font-semibold text-[#1A1A1A] text-center",children:"Create Your New Password"}),s.jsx(C,{...o,children:s.jsxs("form",{onSubmit:b(g),className:"flex flex-col items-start gap-4 w-full mt-5",children:[s.jsxs("div",{className:"w-full flex flex-col gap-4 mt-4",children:[s.jsx(c,{control:o.control,name:"oldPassword",render:({field:e})=>s.jsxs(i,{children:[s.jsx(x,{className:"font-inter text-base text-[#1A1A1A] font-normal",children:"Enter Old Password"}),s.jsx(m,{children:s.jsxs("div",{className:"relative",children:[s.jsx(p,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#717171]"}),s.jsx(w,{type:l?"text":"password",placeholder:"********",className:"placeholder:text-[#717171] pl-10 pr-12 h-12 border-[#E4E6EE]",...e}),s.jsx("button",{type:"button",onClick:()=>f(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#717171] text-xs",children:l?"Hide":"Show"})]})}),s.jsx(h,{})]})}),s.jsx(c,{control:o.control,name:"newPassword",render:({field:e})=>s.jsxs(i,{children:[s.jsx(x,{className:"font-inter text-base text-[#1A1A1A] font-normal",children:"Enter New Password"}),s.jsx(m,{children:s.jsxs("div",{className:"relative",children:[s.jsx(p,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#717171]"}),s.jsx(w,{type:n?"text":"password",placeholder:"********",className:"placeholder:text-[#717171] pl-10 pr-12 h-12 border-[#E4E6EE]",...e}),s.jsx("button",{type:"button",onClick:()=>u(!n),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#717171] text-xs",children:n?"Hide":"Show"})]})}),s.jsx(h,{})]})}),s.jsx(c,{control:o.control,name:"confirmNewPassword",render:({field:e})=>s.jsxs(i,{children:[s.jsx(x,{className:"font-inter text-base text-[#1A1A1A] font-normal",children:"Confirm New Password"}),s.jsx(m,{children:s.jsxs("div",{className:"relative",children:[s.jsx(p,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#717171]"}),s.jsx(w,{type:d?"text":"password",placeholder:"********",className:"placeholder:text-[#717171] pl-10 pr-12 h-12 border-[#E4E6EE]",...e}),s.jsx("button",{type:"button",onClick:()=>j(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#717171] text-xs",children:d?"Hide":"Show"})]})}),s.jsx(h,{})]})})]}),s.jsx(y,{type:"submit",className:"bg-[#95C22B] mt-4 text-base max-sm:text-lg flex justify-center w-full h-12",children:"Update Now"})]})})]})})})};export{M as default};
