import{r as a,u as H,j as e,z as J,A as K,B as $,C as Z,S as I,o as z,p as D,q as _,s as G,t as d,a as V,D as Q,E as ee,G as y,L as w}from"./index-CcpRPS1f.js";import{L as se}from"./Layout-BRffaEJr.js";import{A as te,F as P,B as O}from"./MiniCompo-SAPaCfXw.js";import{V as ae,R as ne,D as le,I as ie,C as xe}from"./Clinic-CDWQZmLr.js";import{V as ce}from"./verified 1-BxJHZHCz.js";import{_ as C}from"./react-stars-B-CvSG_R.js";import{c as re,C as oe}from"./ConfirmbookingModal-FQmnlL6i.js";import{R as de}from"./ReactPagination-CMJQwj_u.js";import{S as me}from"./SearchListCompo-Tl419yLB.js";import{D as pe}from"./DataNotFound-dfLtKkIv.js";import"./Header-Xri131j3.js";import"./de9to-logo-1-bqG7ETxb.js";import"./index-DuXQaNsf.js";import"./index-y9OiPsHC.js";import"./format-CW0G_LzU.js";import"./addDays-BmrnjbS8.js";import"./index-CDpN19XY.js";const he=({dentist:n})=>{var F,B;const[m,p]=a.useState(!1);console.log("dentist1",n);const{personalDetails:s,_id:h,clinic:x,assignedClinic:A,dentistRatings:N,dentistAvailableTiming:r=[],educationalQualification:o}=n||{},f=x.find(t=>t==null?void 0:t.defaultClinic),g=r==null?void 0:r.filter(t=>(t==null?void 0:t.clinic)===(f==null?void 0:f._id)),j=g==null?void 0:g.map(t=>t==null?void 0:t.day),E=A.map(t=>t==null?void 0:t.clinicId);console.log("modifiedClinic",[...E,...x]),console.log("availabilityData",j);const S=re(N),R=H();function i(t){R(`/our-dentist/${t}`)}return e.jsxs("div",{className:"border-[1px max-[700px]:border-none shadow max-[700px]:shadow] border-[#C9C9C9] rounded-md p-3 grid grid-cols-[24%_74%] max-[769px]:grid-cols-[28%_70%] max-[700px]:grid-cols-[34%_60%] max-[600px]:grid-cols-1 gap-5",children:[e.jsxs("div",{children:[e.jsxs("div",{onClick:()=>i(h),className:"rounded-[6px] relative w-full cursor-pointer",children:[e.jsx("img",{className:"absolute top-1 right-1",src:ce,alt:""}),e.jsx("img",{className:"h-full w-full",src:s==null?void 0:s.image,alt:""})]}),e.jsxs("p",{className:"text-center font-inter font-semibold mt-4 text-sm text-[#717171]",children:["Reg. No: ",o==null?void 0:o.regNumber]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-start max-[500px]:flex-col max-[500px]:gap-0 gap-3",children:[e.jsxs("h2",{onClick:()=>i(h),className:"text-xl font-inter font-semibold text-[#1A1A1A] cursor-pointer",children:[s==null?void 0:s.prefix,". ",s==null?void 0:s.Firstname," ",s==null?void 0:s.lastName]}),e.jsxs("div",{children:[e.jsx(C,{size:25,count:5,value:S,edit:!1,color2:"#FF8A00"}),e.jsxs("div",{className:"text-[#000000] text-[10px] max-[500px]:text-left text-right font-normal font-inter",children:["Rated by ",N==null?void 0:N.length," users"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(J,{className:"text-[#717171] text-2xl max-[700px]:text-xl"}),e.jsxs("div",{className:"flex gap-2 items-center max-[700px]:text-xs",children:[e.jsx("p",{className:" text-[#FF8A00] font-inter font-semibold",children:s==null?void 0:s.degree}),e.jsx("div",{className:"w-[2px] h-[14px] bg-[#FF8A00]"}),e.jsx("p",{className:"text-[#FF8A00] font-inter font-semibold",children:s==null?void 0:s.specialty}),e.jsx("div",{className:"w-[2px] h-[14px] bg-[#FF8A00]"}),e.jsx("p",{className:"text-[#FF8A00] font-inter font-semibold",children:(x==null?void 0:x.length)===1?(F=x[0])==null?void 0:F.clinicName:(B=x==null?void 0:x.find(t=>t==null?void 0:t.defaultClinic))==null?void 0:B.clinicName})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(K,{className:"text-[#717171] text-xl max-[700px]:text-lg"}),e.jsxs("div",{className:"flex gap-2 items-center max-[700px]:text-xs",children:[e.jsx("p",{className:" text-[#717171] font-inter font-normal",children:"Availability: "}),e.jsx("p",{className:"text-[#717171] font-inter font-semibold",children:j==null?void 0:j.join(" - ")})]})]}),e.jsx("p",{className:"text-[#717171] font-inter font-normal max-[700px]:text-xs text-sm mt-1",children:s==null?void 0:s.Bio}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsxs("div",{className:"border border-[#717171] rounded-md max-[500px]:p-1 flex items-center gap-2 p-2",children:[e.jsx("img",{src:ae,alt:"vectorImg",className:"w-[26px] max-[500px]:w-3"}),e.jsxs("span",{className:"text-[#717171] font-inter text-xs max-[500px]:text-[8px]",children:[o==null?void 0:o.yearsOfExperience," years Experience"]})]}),e.jsxs("div",{className:"border border-[#717171] rounded-md max-[500px]:p-1 flex items-center gap-2 p-2",children:[e.jsx("img",{src:ne,alt:"rupayImg",className:"w-[26px] max-[500px]:w-3"}),e.jsx("span",{className:"text-[#717171] font-inter text-xs max-[500px]:text-[8px]",children:"₹500 at clinic"})]})]}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("p",{className:"text-[#5B5B5B] max-[500px]:text-xs",children:[e.jsx("span",{className:"line-through",children:"₹500"})," ",e.jsx("b",{children:"FREE"})," via ",e.jsxs("b",{children:["de",e.jsx("span",{className:"text-[#95C22B]",children:"9"}),"to"]})]}),e.jsxs($,{onClick:()=>p(!0),className:"bg-[#95C22B] max-[500px]:text-xs max-[700px]:px-3 hover:bg-[#9dd41d] flex gap-3 items-center px-6 rounded-[10px]",children:[e.jsx("span",{children:"Book Appointment"}),e.jsx(Z,{className:"text-2xl"})]})]})})]}),m&&e.jsx(oe,{isConfirmBookingModalOpen:m,setIsConfirmBookingModalOpen:p,dentistId:h,clinic:[...E,...x],timing:n==null?void 0:n.dentistAvailableTiming,selectedIndex:0})]})},fe=n=>{const{gender:m,rating:p,location:s,handleGenderChange:h,handleRatingChange:x,handleLocationChange:A}=n;return e.jsxs("div",{className:"flex justify-between items-center gap-3 rounded-[10px] bg-[#EEEEEE]",children:[e.jsxs(I,{value:m,onValueChange:h,children:[e.jsx(z,{className:"w-[250px] px-12 border-none text-[#1A1A1A] bg-[#EEEEEE] text-sm font-medium font-inter",children:e.jsx(D,{placeholder:"Search by Gender"})}),e.jsx(_,{children:e.jsxs(G,{children:[e.jsx(d,{value:"male",children:"Male"}),e.jsx(d,{value:"female",children:"Female"})]})})]}),e.jsx("div",{className:"border-[1.5px] border-[#717171] h-[30px]"}),e.jsxs(I,{value:p,onValueChange:x,children:[e.jsx(z,{className:"w-[250px] px-8 border-none text-[#1A1A1A] bg-[#EEEEEE] text-sm font-medium font-inter",children:e.jsx(D,{placeholder:"Search by Rating"})}),e.jsx(_,{children:e.jsxs(G,{children:[e.jsx(d,{value:"1",children:"1"}),e.jsx(d,{value:"2",children:"2"}),e.jsx(d,{value:"3",children:"3"}),e.jsx(d,{value:"4",children:"4"}),e.jsx(d,{value:"5",children:"5"})]})})]}),e.jsx("div",{className:"border-[1.5px] border-[#717171] h-[30px]"}),e.jsxs(I,{value:s,onValueChange:A,children:[e.jsx(z,{className:"w-[250px] px-12 border-none text-[#1A1A1A] bg-[#EEEEEE] text-sm font-medium font-inter",children:e.jsx(D,{placeholder:"Search by Locality"})}),e.jsx(_,{children:e.jsxs(G,{children:[e.jsx(d,{value:"Najabgarh",children:"Najabgarh"}),e.jsx(d,{value:"Ramlila Maidan",children:"Ramlila Maidan"})]})})]})]})},Ie=()=>{const{res:n,fetchData:m,isLoading:p}=V(),{res:s,fetchData:h,isLoading:x}=V(),[A,N]=a.useState(1),[r,o]=a.useState(1),[f,g]=a.useState([]),[j,E]=a.useState([]),S=a.useCallback(async()=>{m(`/patient/get-dentists?page=${r}`)},[r,m]);a.useEffect(()=>{S()},[r]),a.useEffect(()=>{((n==null?void 0:n.status)===200||(n==null?void 0:n.status)===201)&&(g(n.data.data.dentists),N(n.data.totalPages),o(n.data.currentPage))},[n]);const R=async()=>{h(`/patient/get-all-Clinics?page=${r}`)};a.useEffect(()=>{R()},[r]),a.useEffect(()=>{var l,b;((s==null?void 0:s.status)===200||(s==null?void 0:s.status)===201)&&(E((b=(l=s==null?void 0:s.data)==null?void 0:l.data)==null?void 0:b.clinics),console.log("clinics response",s))},[s]);const{res:i,fetchData:F,isLoading:B}=V(),[t,q]=a.useState(""),[c,W]=a.useState(""),[u,L]=a.useState(""),[T,k]=a.useState(!1),M=()=>{k(window.innerWidth>700&&!1)};a.useEffect(()=>(window.addEventListener("resize",M),()=>{window.removeEventListener("resize",M)}),[]);const U=a.useCallback(async()=>{(u||c||t)&&F(`/patient/filter?area=${u}&ratings=${c}&gender=${t}`)},[u,c,t,F]);a.useEffect(()=>{U()},[u,c,t]),a.useEffect(()=>{var l;((i==null?void 0:i.status)===200||(i==null?void 0:i.status)===201)&&(console.log("ShortDentist:",i),g((l=i==null?void 0:i.data)==null?void 0:l.dentists))},[i]);const X=l=>{q(l)},v=l=>{W(l)},Y=l=>{L(l)};return a.useState(!1),a.useState(!1),a.useState(!1),a.useState(!1),e.jsx(se,{children:T?e.jsx("section",{className:"px-4 py-8",children:e.jsxs("div",{className:"shadow-[0px_0px_10px_rgba(0,0,0,0.1)] px-3 py-6 bg-white rounded",children:[e.jsxs("div",{className:"flex justify-between gap-3 items-center",children:[e.jsx("h2",{className:"text-[#838383] text-xl font-semibold font-inter",children:"Advance Filter"}),e.jsx(ee,{onClick:()=>k(!1),className:"text-xl text-[#95C22B]"})]}),e.jsxs("div",{className:"",children:[e.jsx(P,{name:"Rating"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 py-[10px]",children:[e.jsx(y,{id:"rating-5",checked:c===5,onCheckedChange:()=>v(5)}),e.jsxs(w,{className:"flex items-center gap-2",children:[e.jsx(C,{count:5,edit:!1,size:18,color2:"#FF8A00",value:5}),e.jsx("p",{className:"text-[#1A1A1A] text-sm font-normal font-inter",children:"5.0"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 py-[10px]",children:[e.jsx(y,{id:"rating-4",checked:c===4,onCheckedChange:()=>v(4)}),e.jsxs(w,{className:"flex items-center gap-2",children:[e.jsx(C,{count:5,edit:!1,size:18,color2:"#FF8A00",value:4}),e.jsx("p",{className:"text-[#1A1A1A] text-sm font-normal font-inter",children:"4.0 & up"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 py-[10px]",children:[e.jsx(y,{id:"rating-3",checked:c===3,onCheckedChange:()=>v(3)}),e.jsxs(w,{className:"flex items-center gap-2",children:[e.jsx(C,{count:5,edit:!1,size:18,color2:"#FF8A00",value:3}),e.jsx("p",{className:"text-[#1A1A1A] text-sm font-normal font-inter",children:"3.0 & up"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 py-[10px]",children:[e.jsx(y,{id:"rating-2",checked:c===2,onCheckedChange:()=>v(2)}),e.jsxs(w,{className:"flex items-center gap-2",children:[e.jsx(C,{count:5,edit:!1,size:18,color2:"#FF8A00",value:2}),e.jsx("p",{className:"text-[#1A1A1A] text-sm font-normal font-inter",children:"2.0 & up"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 py-[10px]",children:[e.jsx(y,{id:"rating-1",checked:c===1,onCheckedChange:()=>v(1)}),e.jsxs(w,{className:"flex items-center gap-2",children:[e.jsx(C,{count:5,edit:!1,size:18,color2:"#FF8A00",value:1}),e.jsx("p",{className:"text-[#1A1A1A] text-sm font-normal font-inter",children:"1.0 & up"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(P,{name:"Location"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-[10px]",children:[e.jsx(O,{setLocation:L,location:u,name:"Najabgarh"}),e.jsx(O,{setLocation:L,location:u,name:"Ramlila Maidan"})]})]}),e.jsx($,{onClick:()=>k(!1),className:"bg-[#95C22B] mt-4 flex justify-center w-full h-10",children:"Apply Filters"})]})}):e.jsxs("main",{className:"w-full relative px-4",children:[e.jsxs("section",{className:"flex items-center justify-end max-[900px]:hidden pr-20",children:[e.jsxs("div",{className:"flex flex-col gap-[18px] w-[483px]",children:[e.jsxs("h1",{className:"text-[#0D0E0E] text-[60px] font-bold font-inter leading-[72px]",children:["Expert Care,",e.jsx("br",{})," Right Next Door"]}),e.jsx("p",{className:"text-[#787878] text-base italic font-bold font-inter",children:"Where you get the list of certified doctors with years of professional experiences"}),e.jsx(te,{})]}),e.jsx("div",{className:"relative",children:e.jsx("img",{src:le,alt:"doctor-img"})})]}),e.jsx("img",{src:ie,alt:"background-img",className:"absolute max-[900px]:hidden -top-[4%] right-0 -z-10"}),e.jsx(me,{setAllClinics:E,setAllData:g}),e.jsxs("section",{className:"max-w-[1240px] w-full mx-auto flex flex-col gap-10 max-[700px]:gap-5 my-6",children:[e.jsxs("div",{className:"max-[700px]:hidden rounded-[5px] flex flex-col gap-3",children:[e.jsx("p",{className:"text-[#838383] text-base font-semibold font-inter",children:"Advance Filter"}),e.jsx(fe,{gender:t,handleGenderChange:X,rating:c,handleRatingChange:v,location:u,handleLocationChange:Y})]}),e.jsx("div",{className:"flex justify-end min-[700px]:hidden",children:e.jsx(Q,{onClick:()=>k(!0),className:"text-xl text-[#95C22B]"})}),e.jsxs("div",{className:"flex flex-col gap-[60px]",children:[e.jsxs("div",{className:"flex flex-col justify-between gap-5",children:[e.jsx("p",{className:"text-[#838383] text-base font-semibold font-inter",children:"Choose Your Dentist"}),f.length>0&&!p?f.map((l,b)=>e.jsx(he,{dentist:l},b)):e.jsx(pe,{name:"Dentist"})]}),e.jsx("div",{className:"flex flex-col justify-between gap-5",children:j.length>0&&!p?j.map((l,b)=>e.jsx(xe,{clinic:l},b)):""}),f.length>0&&e.jsx(de,{pageCount:A,setPage:o})]})]})]})})};export{Ie as default};
