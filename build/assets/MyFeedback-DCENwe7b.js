import{j as t,J as w,u as A,l as D,r as p,B as v}from"./index-DmouPCTn.js";import{P as B}from"./ProfileLayout-UcBpfbwo.js";import{D as C}from"./DataNotFound-DdT4EPZL.js";import{r as E}from"./index-Cm1U8_ys.js";import{T as d,a as r,b as M,c as T,d as a,e as f}from"./table-CSFj0glm.js";import{_ as F}from"./react-stars-ChvkAcib.js";import{f as g}from"./format-CW0G_LzU.js";import{S as R}from"./Spinner-DU-Tkhyf.js";import{b as $}from"./index-CYp1XgRB.js";import{y as S,B as z}from"./usePostApiReq-Bc5-sulw.js";import"./Header-BT9ardL7.js";import"./de9to-logo-qc7xun2b6cqji9b2etrrmn9ecu7aif9fr5oesz8pp6-1.png-Dqa2L2LM.js";import"./index-DmGuMg8g.js";const I=({feedback:s})=>{var x,e,n,i,m;return t.jsxs(d,{className:"text-[#1A1A1A] font-inter",children:[t.jsx(r,{children:g(new Date(s==null?void 0:s.createdAt),"dd/MM/yyy")}),t.jsx(r,{children:s!=null&&s.clinic?(x=s==null?void 0:s.clinic)==null?void 0:x.clinicName:`${(n=(e=s==null?void 0:s.dentist)==null?void 0:e.personalDetails)==null?void 0:n.prefix} ${(m=(i=s==null?void 0:s.dentist)==null?void 0:i.personalDetails)==null?void 0:m.Firstname}`}),t.jsx(r,{children:t.jsx(F,{count:5,value:Number(s==null?void 0:s.patientRating),color2:"#FF8A00",edit:!1,size:22})}),t.jsx(r,{className:"text-[#0D0C22]",children:s==null?void 0:s.patientRemarks}),t.jsxs(r,{className:"flex items-center gap-3",children:[t.jsx(w,{className:"text-2xl cursor-pointer"}),t.jsx(E,{className:"text-xl cursor-pointer text-[#FF0000]"})]})]})},X=()=>{const{res:s,fetchData:x,isLoading:e}=A(),n=D("userInfo"),[i,m]=p.useState([]);console.log("userInfo",n);const y=async()=>{x(`/patient/get-all-patient-review?patientId=${n==null?void 0:n.userId}`)};return p.useEffect(()=>{y()},[]),p.useEffect(()=>{((s==null?void 0:s.status)===200||(s==null?void 0:s.status)===201)&&(m(s.data.data),console.log("reviews response",s))},[s]),t.jsx(B,{children:t.jsxs("div",{className:"bg-white rounded-lg p-5",children:[t.jsx("h1",{className:"font-inter text-2xl font-medium text-[#00214B] max-[425px]:text-xl",children:"My Feedback"}),t.jsx(v,{variant:"outline",className:"border-[#717171] mt-5 font-normal text-[#717171]",children:"Filter by date"}),t.jsxs(M,{className:"mt-4 max-[425px]:hidden",children:[t.jsx(T,{className:"bg-[#F6F6F6]",children:t.jsxs(d,{className:"uppercase",children:[t.jsx(a,{className:"w-[130px]",children:"Date"}),t.jsx(a,{className:"w-[230px]",children:"Clinic/Doctor"}),t.jsx(a,{className:"w-[130px]",children:"ratings"}),t.jsx(a,{className:"w-[380]",children:"Feedback"}),t.jsx(a,{className:"w-[110px]",children:"Action"})]})}),t.jsx(f,{children:i.map((l,o)=>t.jsx(I,{feedback:l},o))})]}),t.jsx("div",{className:"mt-4 max-[425px]:flex flex-wrap gap-3 justify-between hidden w-full",children:i.map((l,o)=>{var c,j,u,h,N;return t.jsxs("div",{className:"h-full rounded-md py-[10px] px-3 bg-[#F4F9EA] min-w-[133px] w-[47.8%] flex flex-col items-center gap-2",children:[t.jsxs("div",{className:"flex gap-3 justify-start items-center w-full",children:[t.jsx("p",{className:"text-[#717171] text-[10px] font-medium font-inter",children:"Date"}),t.jsx("p",{className:"text-[#1A1A1A] text-xs font-normal font-inter",children:g(new Date(l==null?void 0:l.createdAt),"dd/MM/yyy")})]}),t.jsx("div",{className:"flex flex-col justify-center gap-1 w-full",children:t.jsxs("div",{className:"flex flex-col justify-start items-start",children:[t.jsx("p",{className:"text-[#717171] text-[10px] font-medium font-inter",children:"Dentist"}),t.jsxs("div",{className:"w-full flex justify-start items-center gap-3",children:[t.jsxs("h5",{className:"text-[#1A1A1A] text-xs font-normal font-inter",children:[l!=null&&l.clinic?(c=l==null?void 0:l.clinic)==null?void 0:c.clinicName:`${(u=(j=l==null?void 0:l.dentist)==null?void 0:j.personalDetails)==null?void 0:u.prefix} ${(N=(h=l==null?void 0:l.dentist)==null?void 0:h.personalDetails)==null?void 0:N.Firstname}`," "]}),t.jsx($,{className:"text-[#717171]"})]})]})}),t.jsx(F,{count:5,value:Number(l==null?void 0:l.patientRating),edit:!1,color2:"#FF8A00",size:20,className:"my-1"}),t.jsxs("div",{className:"h-full flex flex-col justify-start items-start w-full",children:[t.jsx("p",{className:"text-[#717171] text-[10px] font-medium font-inter",children:"Feedback"}),t.jsx("p",{className:"text-[#0D0C22] text-[10px] font-normal font-inter break-all",children:l==null?void 0:l.patientRemarks})]}),t.jsxs("div",{className:"flex items-center gap-2 w-full",children:[t.jsxs("button",{className:"rounded-[6px] border-[1px] w-full border-[#95C22B] h-8 px-2 flex justify-center items-center gap-[6px]",children:[t.jsx(S,{className:"text-[#95C22B]"}),t.jsx("span",{className:"text-[#95C22B] text-[10px] font-medium font-inter",children:"Edit"})]}),t.jsx(z,{className:"text-[#FF0000] text-4xl"})]})]},o)})}),(i==null?void 0:i.length)===0&&e&&t.jsx(R,{size:30}),(i==null?void 0:i.length)===0&&!e&&t.jsx(C,{name:"Reviews"})]})})};export{X as default};
